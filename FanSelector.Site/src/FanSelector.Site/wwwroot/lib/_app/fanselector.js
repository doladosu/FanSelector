!function(){var n=function(){return{restrict:"A",transclude:!0,scope:{name:"@"},link:function(n,a,e){a.bind("blur",function(e){n.$parent.$apply(function(){n.$parent[n.name]=a.val()})})}}};angular.module("fanSelectorApp").directive("lazyLoad",n)}();
!function(){var e=["$q","dataService"],n=function(e,n){var r=function(r,i,c,t){t.$asyncValidators.unique=function(r,i){var t=e.defer(),u=r||i,a=c.wcUniqueKey,o=c.wcUniqueProperty;return a&&o?(n.checkUniqueValue(a,o,u).then(function(e){e?t.resolve():t.reject()}),t.promise):e.when(!0)}};return{restrict:"A",require:"ngModel",link:r}};n.$inject=e,angular.module("fanSelectorApp").directive("wcUnique",n)}();
!function(){var e=function(){return function(e,t){if(!t)return e;var r=[];t=t.toLowerCase();for(var a=0;a<e.length;a++){var n=e[a];(n.firstName.toLowerCase().indexOf(t)>-1||n.lastName.toLowerCase().indexOf(t)>-1||n.city.toLowerCase().indexOf(t)>-1||n.state.name.toLowerCase().indexOf(t)>-1)&&r.push(n)}return r}};angular.module("fanSelectorApp").filter("nameCityStateFilter",e)}();
!function(){var r=function(){function r(r,e){if(r.orders)for(var t=0;t<r.orders.length;t++)if(r.orders[t].product.toLowerCase().indexOf(e)>-1)return!0;return!1}return function(e,t){if(!t||!e)return e;var n=[];t=t.toLowerCase();for(var o=0;o<e.length;o++){var a=e[o];(a.firstName.toLowerCase().indexOf(t)>-1||a.lastName.toLowerCase().indexOf(t)>-1||r(a,t))&&n.push(a)}return n}};angular.module("fanSelectorApp").filter("nameProductFilter",r)}();
!function(){var r=angular.module("fanSelectorApp",["ngRoute","ngAnimate","wc.directives","ui.bootstrap","LocalStorageModule"]);r.config(["$routeProvider",function(r){var e="/app/fanSelectorApp/views/";r.when("/customers",{controller:"CustomersController",templateUrl:e+"customers/customers.html",controllerAs:"vm"}).when("/customerorders/:customerId",{controller:"CustomerOrdersController",templateUrl:e+"customers/customerOrders.html",controllerAs:"vm"}).when("/customeredit/:customerId",{controller:"CustomerEditController",templateUrl:e+"customers/customerEdit.html",controllerAs:"vm",secure:!0}).when("/orders",{controller:"OrdersController",templateUrl:e+"orders/orders.html",controllerAs:"vm"}).when("/about",{controller:"AboutController",templateUrl:e+"about.html",controllerAs:"vm"}).when("/login/:redirect*?",{controller:"LoginController",templateUrl:e+"login.html",controllerAs:"vm"}).otherwise({redirectTo:"/customers"})}]),r.run(["$rootScope","$location","authService",function(r,e,o){o.fillAuthData(),r.$on("$routeChangeStart",function(e,t,l){t&&t.$$route&&t.$$route.secure&&(o.user.isAuthenticated||r.$evalAsync(function(){o.redirectToLogin()}))})}])}();

!function(){var e=["$http","$rootScope","$q","localStorageService","config"],t=function(e,t,o,n,r){function a(e){s.user.isAuthenticated=e,t.$broadcast("loginStatusChanged",e)}var i=r.serviceBase,s={loginPath:"/login",user:{isAuthenticated:!1,roles:null,email:""}};return s.login=function(t,u){var c="grant_type=password&username="+t+"&password="+u+"&client_id="+r.clientId,l=o.defer();return e.post(i+"token",c,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){n.set("authorizationData",{token:e.access_token,email:t,refreshToken:e.refresh_token,useRefreshTokens:!0});var o=""!==e.access_token;a(o),s.user.isAuthenticated=!0,s.user.email=t,l.resolve(e)}).error(function(e,t){logout(),l.reject(e)}),l.promise},s.logout=function(){n.remove("authorizationData"),s.user.email="",a(!1)},s.redirectToLogin=function(){t.$broadcast("redirectToLogin",null)},s.fillAuthData=function(){var e=n.get("authorizationData");e&&(s.user.isAuthenticated=!0,s.user.email=e.email)},s};t.$inject=e,angular.module("fanSelectorApp").factory("authService",t)}();
!function(){var e={clientId:"FanSelectorWeb",serviceBase:"http://localhost:7519/"};angular.module("fanSelectorApp").value("config",e)}();

!function(){var t=["$http","$q"],e=function(t,e){function r(t){for(var e=t.length,r=0;e>r;r++){var n=t[r];if(n.orders){for(var u=n.orders.length,a=0;u>a;a++){var s=n.orders[a];s.orderTotal=s.quantity*s.price}n.ordersTotal=o(n)}}}function n(e,n,o){var s=e;return s+=3==arguments.length?u(n,o):"",t.get(a+s).then(function(t){var e=t.data;return r(e),{totalRecords:parseInt(t.headers("X-InlineCount")),results:e}})}function u(t,e){var r="?$top="+e+"&$skip="+t*e;return r}function o(t){for(var e=0,r=t.orders,n=r.length,u=0;n>u;u++)e+=r[u].orderTotal;return e}var a="/api/dataservice/",s={};return s.getCustomers=function(t,e){return n("customers",t,e)},s.getCustomersSummary=function(t,e){return n("customersSummary",t,e)},s.getStates=function(){return t.get(a+"states").then(function(t){return t.data})},s.checkUniqueValue=function(e,r,n){return e||(e=0),t.get(a+"checkUnique/"+e+"?property="+r+"&value="+escape(n)).then(function(t){return t.data.status})},s.insertCustomer=function(e){return t.post(a+"postCustomer",e).then(function(t){return e.id=t.data.id,t.data})},s.newCustomer=function(){return e.when({id:0})},s.updateCustomer=function(e){return t.put(a+"putCustomer/"+e.id,e).then(function(t){return t.data})},s.deleteCustomer=function(e){return t["delete"](a+"deleteCustomer/"+e).then(function(t){return t.data})},s.getCustomer=function(e){return t.get(a+"customerById/"+e).then(function(t){return r([t.data]),t.data})},s};e.$inject=t,angular.module("fanSelectorApp").factory("customersService",e)}();
!function(){var e=["config","customersService"],c=function(e,c){return c};c.$inject=e,angular.module("fanSelectorApp").factory("dataService",c)}();
!function(){"use strict";var t=["$q","localStorageService","$rootScope"],r=function(t,r,e){var n={};return n.request=function(t){t.headers=t.headers||{};var e=r.get("authorizationData");return e&&(t.headers.Authorization="Bearer "+e.token),t},n.httpInterceptor401=function(){var r=function(t){return t},n=function(r){return 401===r.status?(e.$broadcast("redirectToLogin",null),t.reject(r)):t.reject(r)};return function(t){return t.then(r,n)}},n};r.$inject=t;var e=angular.module("fanSelectorApp");e.factory("AuthInterceptor",r),e.config(["$httpProvider",function(t){t.interceptors.push("AuthInterceptor")}])}();
!function(){var o=["$uibModal"],e=function(o){var e={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:"/app/fanSelectorApp/partials/modal.html"},t={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?"};this.showModal=function(o,e){return o||(o={}),o.backdrop="static",this.show(o,e)},this.show=function(n,a){var l={},c={};return angular.extend(l,e,n),angular.extend(c,t,a),l.controller||(l.controller=function(o,e){o.modalOptions=c,o.modalOptions.ok=function(o){e.close("ok")},o.modalOptions.close=function(o){e.close("cancel")}},l.controller.$inject=["$scope","$uibModalInstance"]),o.open(l).result}};e.$inject=o,angular.module("fanSelectorApp").service("modalService",e)}();
!function(){var a=function(){var a=.5;return{enter:function(e,n){var t=100*Math.random();TweenMax.set(e,{opacity:0,left:t+"px"});var o=Math.random();TweenMax.to(e,a,{opacity:1,left:"0px",ease:Back.easeInOut,delay:o,onComplete:n})},leave:function(e,n){TweenMax.to(e,a,{opacity:0,left:"-50px",onComplete:n})}}};angular.module("fanSelectorApp").animation(".card-animation",a)}();
!function(){var e=["$location","$filter","$window","$timeout","authService","dataService","modalService"],t=function(e,t,r,o,n,a,s){function i(){u()}function u(){a.getCustomersSummary(d.currentPage-1,d.pageSize).then(function(e){d.totalRecords=e.totalRecords,d.customers=e.results,c(""),o(function(){d.cardAnimationClass=""},1e3)},function(e){r.alert("Sorry, an error occurred: "+e.data.message)})}function c(e){d.filteredCustomers=t("nameCityStateFilter")(d.customers,e),d.filteredCount=d.filteredCustomers.length}function l(e){for(var t=0;t<d.customers.length;t++){var r=d.customers[t];if(r.id===e)return r}return null}var d=this;d.customers=[],d.filteredCustomers=[],d.filteredCount=0,d.orderby="lastName",d.reverse=!1,d.searchText=null,d.cardAnimationClass=".card-animation",d.totalRecords=0,d.pageSize=10,d.currentPage=1,d.pageChanged=function(e){d.currentPage=e,u()},d.deleteCustomer=function(t){if(!n.user.isAuthenticated)return void e.path(n.loginPath+e.$$path);var o=l(t),i=o.firstName+" "+o.lastName,u={closeButtonText:"Cancel",actionButtonText:"Delete Customer",headerText:"Delete "+i+"?",bodyText:"Are you sure you want to delete this customer?"};s.showModal({},u).then(function(e){"ok"===e&&a.deleteCustomer(t).then(function(){for(var e=0;e<d.customers.length;e++)if(d.customers[e].id===t){d.customers.splice(e,1);break}c(d.searchText)},function(e){r.alert("Error deleting customer: "+e.message)})})},d.DisplayModeEnum={Card:0,List:1},d.changeDisplayMode=function(e){switch(e){case d.DisplayModeEnum.Card:d.listDisplayModeEnabled=!1;break;case d.DisplayModeEnum.List:d.listDisplayModeEnabled=!0}},d.navigate=function(t){e.path(t)},d.setOrder=function(e){e===d.orderby&&(d.reverse=!d.reverse),d.orderby=e},d.searchTextChanged=function(){c(d.searchText)},i()};t.$inject=e,angular.module("fanSelectorApp").controller("ProfileController",t)}();
!function(){var e=["$location","$filter","$window","$timeout","authService","dataService","modalService"],t=function(e,t,r,n,o,a,s){function i(){u()}function u(){a.getCustomersSummary(d.currentPage-1,d.pageSize).then(function(e){d.totalRecords=e.totalRecords,d.customers=e.results,c(""),n(function(){d.cardAnimationClass=""},1e3)},function(e){r.alert("Sorry, an error occurred: "+e.data.message)})}function c(e){d.filteredCustomers=t("nameCityStateFilter")(d.customers,e),d.filteredCount=d.filteredCustomers.length}function l(e){for(var t=0;t<d.customers.length;t++){var r=d.customers[t];if(r.id===e)return r}return null}var d=this;d.customers=[],d.filteredCustomers=[],d.filteredCount=0,d.orderby="lastName",d.reverse=!1,d.searchText=null,d.cardAnimationClass=".card-animation",d.totalRecords=0,d.pageSize=10,d.currentPage=1,d.pageChanged=function(e){d.currentPage=e,u()},d.deleteCustomer=function(t){if(!o.user.isAuthenticated)return void e.path(o.loginPath+e.$$path);var n=l(t),i=n.firstName+" "+n.lastName,u={closeButtonText:"Cancel",actionButtonText:"Delete Customer",headerText:"Delete "+i+"?",bodyText:"Are you sure you want to delete this customer?"};s.showModal({},u).then(function(e){"ok"===e&&a.deleteCustomer(t).then(function(){for(var e=0;e<d.customers.length;e++)if(d.customers[e].id===t){d.customers.splice(e,1);break}c(d.searchText)},function(e){r.alert("Error deleting customer: "+e.message)})})},d.DisplayModeEnum={Card:0,List:1},d.changeDisplayMode=function(e){switch(e){case d.DisplayModeEnum.Card:d.listDisplayModeEnabled=!1;break;case d.DisplayModeEnum.List:d.listDisplayModeEnabled=!0}},d.navigate=function(t){e.path(t)},d.setOrder=function(e){e===d.orderby&&(d.reverse=!d.reverse),d.orderby=e},d.searchTextChanged=function(){c(d.searchText)},i()};t.$inject=e,angular.module("fanSelectorApp").controller("TransactionController",t)}();
!function(){var e=["$location","$filter","$window","$timeout","authService","dataService","modalService"],t=function(e,t,r,o,n,a,s){function i(){u()}function u(){a.getCustomersSummary(d.currentPage-1,d.pageSize).then(function(e){d.totalRecords=e.totalRecords,d.customers=e.results,c(""),o(function(){d.cardAnimationClass=""},1e3)},function(e){r.alert("Sorry, an error occurred: "+e.data.message)})}function c(e){d.filteredCustomers=t("nameCityStateFilter")(d.customers,e),d.filteredCount=d.filteredCustomers.length}function l(e){for(var t=0;t<d.customers.length;t++){var r=d.customers[t];if(r.id===e)return r}return null}var d=this;d.customers=[],d.filteredCustomers=[],d.filteredCount=0,d.orderby="lastName",d.reverse=!1,d.searchText=null,d.cardAnimationClass=".card-animation",d.totalRecords=0,d.pageSize=10,d.currentPage=1,d.pageChanged=function(e){d.currentPage=e,u()},d.deleteCustomer=function(t){if(!n.user.isAuthenticated)return void e.path(n.loginPath+e.$$path);var o=l(t),i=o.firstName+" "+o.lastName,u={closeButtonText:"Cancel",actionButtonText:"Delete Customer",headerText:"Delete "+i+"?",bodyText:"Are you sure you want to delete this customer?"};s.showModal({},u).then(function(e){"ok"===e&&a.deleteCustomer(t).then(function(){for(var e=0;e<d.customers.length;e++)if(d.customers[e].id===t){d.customers.splice(e,1);break}c(d.searchText)},function(e){r.alert("Error deleting customer: "+e.message)})})},d.DisplayModeEnum={Card:0,List:1},d.changeDisplayMode=function(e){switch(e){case d.DisplayModeEnum.Card:d.listDisplayModeEnabled=!1;break;case d.DisplayModeEnum.List:d.listDisplayModeEnabled=!0}},d.navigate=function(t){e.path(t)},d.setOrder=function(e){e===d.orderby&&(d.reverse=!d.reverse),d.orderby=e},d.searchTextChanged=function(){c(d.searchText)},i()};t.$inject=e,angular.module("fanSelectorApp").controller("ContestController",t)}();
!function(){var e=["$location","$filter","$window","$timeout","authService","dataService","modalService"],t=function(e,t,r,o,n,a,s){function i(){u()}function u(){a.getCustomersSummary(d.currentPage-1,d.pageSize).then(function(e){d.totalRecords=e.totalRecords,d.customers=e.results,c(""),o(function(){d.cardAnimationClass=""},1e3)},function(e){r.alert("Sorry, an error occurred: "+e.data.message)})}function c(e){d.filteredCustomers=t("nameCityStateFilter")(d.customers,e),d.filteredCount=d.filteredCustomers.length}function l(e){for(var t=0;t<d.customers.length;t++){var r=d.customers[t];if(r.id===e)return r}return null}var d=this;d.customers=[],d.filteredCustomers=[],d.filteredCount=0,d.orderby="lastName",d.reverse=!1,d.searchText=null,d.cardAnimationClass=".card-animation",d.totalRecords=0,d.pageSize=10,d.currentPage=1,d.pageChanged=function(e){d.currentPage=e,u()},d.deleteCustomer=function(t){if(!n.user.isAuthenticated)return void e.path(n.loginPath+e.$$path);var o=l(t),i=o.firstName+" "+o.lastName,u={closeButtonText:"Cancel",actionButtonText:"Delete Customer",headerText:"Delete "+i+"?",bodyText:"Are you sure you want to delete this customer?"};s.showModal({},u).then(function(e){"ok"===e&&a.deleteCustomer(t).then(function(){for(var e=0;e<d.customers.length;e++)if(d.customers[e].id===t){d.customers.splice(e,1);break}c(d.searchText)},function(e){r.alert("Error deleting customer: "+e.message)})})},d.DisplayModeEnum={Card:0,List:1},d.changeDisplayMode=function(e){switch(e){case d.DisplayModeEnum.Card:d.listDisplayModeEnabled=!1;break;case d.DisplayModeEnum.List:d.listDisplayModeEnabled=!0}},d.navigate=function(t){e.path(t)},d.setOrder=function(e){e===d.orderby&&(d.reverse=!d.reverse),d.orderby=e},d.searchTextChanged=function(){c(d.searchText)},i()};t.$inject=e,angular.module("fanSelectorApp").controller("DraftController",t)}();
!function(){var e=["$location","$filter","$window","$timeout","authService","dataService","modalService"],t=function(e,t,r,o,n,a,s){function i(){u()}function u(){a.getCustomersSummary(d.currentPage-1,d.pageSize).then(function(e){d.totalRecords=e.totalRecords,d.customers=e.results,c(""),o(function(){d.cardAnimationClass=""},1e3)},function(e){r.alert("Sorry, an error occurred: "+e.data.message)})}function c(e){d.filteredCustomers=t("nameCityStateFilter")(d.customers,e),d.filteredCount=d.filteredCustomers.length}function l(e){for(var t=0;t<d.customers.length;t++){var r=d.customers[t];if(r.id===e)return r}return null}var d=this;d.customers=[],d.filteredCustomers=[],d.filteredCount=0,d.orderby="lastName",d.reverse=!1,d.searchText=null,d.cardAnimationClass=".card-animation",d.totalRecords=0,d.pageSize=10,d.currentPage=1,d.pageChanged=function(e){d.currentPage=e,u()},d.deleteCustomer=function(t){if(!n.user.isAuthenticated)return void e.path(n.loginPath+e.$$path);var o=l(t),i=o.firstName+" "+o.lastName,u={closeButtonText:"Cancel",actionButtonText:"Delete Customer",headerText:"Delete "+i+"?",bodyText:"Are you sure you want to delete this customer?"};s.showModal({},u).then(function(e){"ok"===e&&a.deleteCustomer(t).then(function(){for(var e=0;e<d.customers.length;e++)if(d.customers[e].id===t){d.customers.splice(e,1);break}c(d.searchText)},function(e){r.alert("Error deleting customer: "+e.message)})})},d.DisplayModeEnum={Card:0,List:1},d.changeDisplayMode=function(e){switch(e){case d.DisplayModeEnum.Card:d.listDisplayModeEnabled=!1;break;case d.DisplayModeEnum.List:d.listDisplayModeEnabled=!0}},d.navigate=function(t){e.path(t)},d.setOrder=function(e){e===d.orderby&&(d.reverse=!d.reverse),d.orderby=e},d.searchTextChanged=function(){c(d.searchText)},i()};t.$inject=e,angular.module("fanSelectorApp").controller("LobbyController",t)}();
!function(){var n=[],o=function(){};o.$inject=n,angular.module("fanSelectorApp").controller("AboutController",o)}();
!function(){var r=["$location","$routeParams","authService"],e=function(r,e,n){var o=this,l="/";o.email=null,o.password=null,o.errorMessage=null,o.login=function(){n.login(o.email,o.password).then(function(n){return n?(n&&e&&e.redirect&&(l+=e.redirect),void r.path(l)):void(o.errorMessage="Unable to login")})}};e.$inject=r,angular.module("fanSelectorApp").controller("LoginController",e)}();
!function(){var t=["$scope","$location","config","authService"],n=function(t,n,o,i){function e(){var t="/login"+n.$$path;n.replace(),n.path(t)}function a(){u.loginLogoutText=i.user.isAuthenticated?"Logout":"Login"}var u=this,r="FanSelector";u.isCollapsed=!1,u.appTitle=r,u.highlight=function(t){return n.path().substr(0,t.length)===t},u.loginOrOut=function(){a();var t=i.user.isAuthenticated;t&&i.logout().then(function(){n.path("/")}),e()},t.$on("loginStatusChanged",function(t){a(t)}),t.$on("redirectToLogin",function(){e()}),a()};n.$inject=t,angular.module("fanSelectorApp").controller("NavbarController",n)}();